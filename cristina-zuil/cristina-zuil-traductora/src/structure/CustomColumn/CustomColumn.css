custom-column {
  display: block;
  box-sizing: border-box;
  flex-shrink: 0;
  
  /* Column width formula:
     Single column width = (container-inner-width - gap * (total-columns - 1)) / total-columns
     Column span width = single-width * span + gap * (span - 1)
  */
  --column-width: calc(
    (var(--container-inner-width) - var(--current-gap) * (var(--current-columns) - 1)) / var(--current-columns)
  );
}

/* Default: full width if no attributes */
custom-column {
  width: 100%;
  margin-left: 0;
}

/* Small breakpoint (4 columns) - Generate dynamically */
custom-column[data-sm="1"] {
  --span: 1;
  width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1));
}

custom-column[data-sm="2"] {
  --span: 2;
  width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1));
}

custom-column[data-sm="3"] {
  --span: 3;
  width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1));
}

custom-column[data-sm="4"] {
  --span: 4;
  width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1));
}

/* Push (offset) for sm */
custom-column[data-sm-push="1"] {
  --push: 1;
  margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push));
}

custom-column[data-sm-push="2"] {
  --push: 2;
  margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push));
}

custom-column[data-sm-push="3"] {
  --push: 3;
  margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push));
}

/* Medium breakpoint (8 columns) */
@media (min-width: var(--breakpoint-md)) {
  custom-column {
    width: 100%;
    margin-left: 0;
  }

  custom-column[data-md="1"] { --span: 1; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="2"] { --span: 2; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="3"] { --span: 3; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="4"] { --span: 4; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="5"] { --span: 5; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="6"] { --span: 6; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="7"] { --span: 7; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-md="8"] { --span: 8; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }

  custom-column[data-md-push="1"] { --push: 1; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-md-push="2"] { --push: 2; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-md-push="3"] { --push: 3; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-md-push="4"] { --push: 4; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-md-push="5"] { --push: 5; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-md-push="6"] { --push: 6; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-md-push="7"] { --push: 7; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
}

/* Large breakpoint (12 columns) */
@media (min-width: var(--breakpoint-lg)) {
  custom-column {
    width: 100%;
    margin-left: 0;
  }

  custom-column[data-lg="1"] { --span: 1; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="2"] { --span: 2; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="3"] { --span: 3; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="4"] { --span: 4; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="5"] { --span: 5; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="6"] { --span: 6; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="7"] { --span: 7; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="8"] { --span: 8; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="9"] { --span: 9; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="10"] { --span: 10; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="11"] { --span: 11; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }
  custom-column[data-lg="12"] { --span: 12; width: calc(var(--column-width) * var(--span) + var(--current-gap) * (var(--span) - 1)); }

  custom-column[data-lg-push="1"] { --push: 1; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="2"] { --push: 2; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="3"] { --push: 3; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="4"] { --push: 4; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="5"] { --push: 5; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="6"] { --push: 6; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="7"] { --push: 7; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="8"] { --push: 8; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="9"] { --push: 9; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="10"] { --push: 10; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
  custom-column[data-lg-push="11"] { --push: 11; margin-left: calc(var(--column-width) * var(--push) + var(--current-gap) * var(--push)); }
}