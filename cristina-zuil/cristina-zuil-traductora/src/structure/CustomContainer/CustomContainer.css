.custom-container {
  width: 100%;
  margin: 0 auto;
  padding: var(--container-padding-sm);
  display: grid;
  grid-template-columns: repeat(var(--grid-columns-sm), 1fr);
  gap: var(--grid-gap-sm);
  
  /* CSS Variables (updated dynamically) */
  --container-width: 100%;
  --column-width: calc((100% - (var(--grid-columns-sm) - 1) * var(--grid-gap-sm)) / var(--grid-columns-sm));
  --grid-gutter: var(--grid-gap-sm);
  --container-padding: var(--container-padding-sm);
  --container-margin: 0;
  --max-container-width: var(--container-max-width-lg);
}

@media (min-width: var(--breakpoint-md)) {
  .custom-container {
    padding: var(--container-padding-md);
    grid-template-columns: repeat(var(--grid-columns-md), 1fr);
    gap: var(--grid-gap-md);
    --column-width: calc((100% - (var(--grid-columns-md) - 1) * var(--grid-gap-md) - var(--container-padding) * 2) / var(--grid-columns-md));
    --grid-gutter: var(--grid-gap-md);
    --container-padding: var(--container-padding-md);
  }
}

@media (min-width: var(--breakpoint-lg)) {
  .custom-container {
    max-width: var(--container-max-width-lg);
    padding: var(--container-padding-lg);
    grid-template-columns: repeat(var(--grid-columns-lg), 1fr);
    gap: var(--grid-gap-lg);
    --column-width: calc((var(--max-container-width) - (var(--grid-columns-lg) - 1) * var(--grid-gap-lg) - var(--container-padding) * 2) / var(--grid-columns-lg));
    --grid-gutter: var(--grid-gap-lg);
    --container-padding: var(--container-padding-lg);
  }
}

/* When viewport exceeds max-width, center container with equal margins */
@media (min-width: var(--container-max-width-lg)) {
  .custom-container {
    margin-left: auto;
    margin-right: auto;
  }
}
